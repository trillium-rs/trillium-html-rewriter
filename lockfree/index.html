<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A crate providing lock-free data structures and a solution for the “ABA problem” related to pointers."><title>lockfree - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-ba5701c5741a7b69.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="lockfree" data-themes="" data-resource-suffix="" data-rustdoc-version="1.71.0-nightly (458d4dae8 2023-04-25)" data-search-js="search-618e954b235f6acc.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-6f6ffb5395b17c6e.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../static.files/storage-62ce34ea385b278a.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-f0540c1d82cde29b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../lockfree/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../lockfree/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate lockfree</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.5.1</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">lockfree</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/lockfree/lib.rs.html#1-70">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A crate providing lock-free data structures and a solution for the “ABA
problem” related to pointers.</p>
<p>The incinerator is the API which tries to solve the “ABA problem” when
related to pointer dropping. With incinerator, every thread has a local
garbage list. Dropping a shared object consist of first removing the pointer
from the shared context, then adding the pointer to the garbage list.
A “pause counter” is checked. If the counter is zero, then the whole list
is deleted, otherwise, the list will only be deleted later.</p>
<p>This counter is counting how many times the incinerator was asked to
“pause”. A thread may pause the incinerator to load and use the shared
pointer, and this is why it is important to remove the pointer from the
shared context before deleting. Previous version of lockfree used a global
incinerator. Currently, a per-object incinerator is used.</p>
<p>This crate is under development, and there are plans for some structures.
We have:</p>
<ul>
<li><code>[x]</code> <a href="tls/struct.ThreadLocal.html" title="struct lockfree::tls::ThreadLocal">Per-Object Thread-Local Storage</a></li>
<li><code>[x]</code> <a href="channel/index.html" title="mod lockfree::channel">Channels (SPSC, MPSC, SPMC, MPMC)</a></li>
<li><code>[x]</code> <a href="map/struct.Map.html" title="struct lockfree::map::Map">Map</a></li>
<li><code>[x]</code> <a href="set/struct.Set.html" title="struct lockfree::set::Set">Set</a></li>
<li><code>[x]</code> <a href="stack/struct.Stack.html" title="struct lockfree::stack::Stack">Stack</a></li>
<li><code>[x]</code> <a href="queue/struct.Queue.html" title="struct lockfree::queue::Queue">Queue</a></li>
<li><code>[ ]</code> Deque</li>
</ul>
<h2 id="performance-guide"><a href="#performance-guide">Performance Guide</a></h2>
<p>In order to achieve a better time performance with lockfree, it is
recommended to avoid global locking stuff like heap allocation.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="channel/index.html" title="mod lockfree::channel">channel</a></div><div class="desc docblock-short">Collection of lock-free FIFO channels. These channels are fully asynchronous
and their receivers do not provide any sort of <code>wait-for-message</code> operation.
It would be blocking otherwise, thus not lock-free. If you need such a
mechanism, consider using this channel with a
<a href="https://doc.rust-lang.org/nightly/std/sync/condvar/struct.Condvar.html" title="struct std::sync::condvar::Condvar"><code>Condvar</code></a> or using things like
<a href="https://doc.rust-lang.org/nightly/std/thread/fn.park.html" title="fn std::thread::park"><code>thread::park</code></a> (not lock-free).</div></li><li><div class="item-name"><a class="mod" href="incin/index.html" title="mod lockfree::incin">incin</a></div><div class="desc docblock-short">Incinerator API. The purpouse of this module is to solve the “ABA problem”
related to pointers while still being lock-free. See documentation of the
inner type for more details.</div></li><li><div class="item-name"><a class="mod" href="map/index.html" title="mod lockfree::map">map</a></div><div class="desc docblock-short">A lock-free map.</div></li><li><div class="item-name"><a class="mod" href="prelude/index.html" title="mod lockfree::prelude">prelude</a></div><div class="desc docblock-short">Provides convenient re-exports.</div></li><li><div class="item-name"><a class="mod" href="queue/index.html" title="mod lockfree::queue">queue</a></div><div class="desc docblock-short">A lock-free queue.</div></li><li><div class="item-name"><a class="mod" href="removable/index.html" title="mod lockfree::removable">removable</a></div><div class="desc docblock-short">A shared removable value. No extra allocation is necessary.</div></li><li><div class="item-name"><a class="mod" href="set/index.html" title="mod lockfree::set">set</a></div><div class="desc docblock-short">A lock-free set.</div></li><li><div class="item-name"><a class="mod" href="stack/index.html" title="mod lockfree::stack">stack</a></div><div class="desc docblock-short">A lock-free stack.</div></li><li><div class="item-name"><a class="mod" href="tls/index.html" title="mod lockfree::tls">tls</a></div><div class="desc docblock-short">A wait-free per-object Thread Local Storage (TLS).</div></li></ul></section></div></main></body></html>